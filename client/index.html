<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Bizzare Defense</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="menu" class="panel">
    <h1>Bizzare Defense</h1>
    <label>Nombre<br/><input id="name" type="text" /></label>
    <label>Color<br/><input id="color" type="color" value="#0000ff" /></label>
    <label>Tipo de mapa<br/>
      <select id="mapType">
        <option value="lineal">Lineal</option>
        <option value="intermedio" selected>Intermedio</option>
        <option value="grande">Grande</option>
        <option value="enorme">ENORME</option>
      </select>
    </label>
    <label>Cantidad de torres<br/>
      <select id="towerCount">
        <option value="1" selected>1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
    </label>
    <label>Economía<br/>
      <input type="range" id="econRate" min="1" max="10" step="1" value="1" />
      <span id="econLabel">x1</span>
    </label>
    <label>Modo gráfico<br/>
      <select id="gfxMode">
        <option value="minimal" selected>Minimalista</option>
        <option value="textures">Texturas activadas</option>
      </select>
    </label>
    <label>Música (URL)<br/>
      <input id="musicUrl" type="text" placeholder="https://" disabled />
    </label>
    <div class="buttons">
      <button id="hostBtn" class="action">Host</button>
      <button id="joinBtn" class="action">Conectarse</button>
    </div>
    <div id="ipDisplay"></div>
      <div id="status"></div>
      <div id="instructions">
        <h2>📘 Cómo jugar</h2>
        <p>🎯 <strong>Objetivo:</strong> protege tu base 🏠 y derriba la del rival.</p>
        <p>🛠️ <strong>Mecánicas:</strong> coloca torretas 🏹 y muros 🧱, envía oleadas de soldados 👾 y mejora tus defensas.</p>
        <p>⚙️ <strong>Configuración:</strong> elige tipo de mapa, cantidad de torres iniciales y ritmo de economía antes de iniciar.</p>
        <p>🕹️ <strong>Controles:</strong> clic izquierdo construye, clic medio mueve la cámara y clic derecho mejora una torreta.</p>
      </div>
    </div>
    <div id="hud" class="hidden">
      <div id="statsPanel" class="panel">
      <div id="playerName" class="playerName">Jugador</div>
      <div id="money">💰20</div>
      <div id="baseHp">❤️100</div>
      <div id="enemyName" class="playerName">Enemigo</div>
      <div id="enemyHp">❤️100</div>
      <div id="actions" class="buttons">
        <button id="buildTurret" class="action">Torreta</button>
        <button id="buildWall" class="action">Muro</button>
        <button id="sendWave" class="action">Enviar oleada</button>
        <button id="shopBtn" class="action">Tienda</button>
      </div>
    </div>
    <div id="shop" class="panel hidden">
      <div class="buttons">
        <button id="upgSoldiers" class="shopItem action" data-cost="30" title="Mejorar esbirros (+5HP,+1 daño)">🛡️ 30</button>
        <button id="upgSpeed" class="shopItem action" data-cost="30" title="Mejorar velocidad (+0.5)">🏃 30</button>
        <button id="upgExtra" class="shopItem action" data-cost="30" title="+1 en Oleada">➕ 30</button>
        <button id="closeShop" class="action">Cerrar</button>
      </div>
    </div>
  </div>
  <canvas id="game" class="hidden"></canvas>
  <div id="endScreen" class="hidden">
    <canvas id="fireworks"></canvas>
    <div id="endPanel" class="panel">
      <h2 id="resultMsg"></h2>
      <div id="finalStats"></div>
    </div>
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script type="module" src="main.js"></script>
</body>
</html>
